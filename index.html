<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM Pietra Fina</title>
    <!-- Tailwind CSS compilado -->
    <link rel="stylesheet" href="./style.prod.css">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Fraunces:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons - Librería moderna y consistente -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <!-- Chart.js para el dashboard -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Flatpickr para el selector de fechas -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>
<body class="antialiased font-poppins text-slate-800 bg-gradient-to-br from-white via-red-50 to-red-100 min-vh-100 d-flex flex-column">
    <!-- Fondo coherente con Pietra Fina: rojo sobre blanco -->
    <div class="fixed inset-0 bg-gradient-to-br from-white via-red-50 to-red-100"></div>
    <div class="fixed inset-0 bg-[url('data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23000000\" fill-opacity=\"0.03\"%3E%3Ccircle cx=\"30\" cy=\"30\" r=\"2\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-60"></div>
    <div class="fixed inset-0 bg-gradient-to-t from-red-50/30 via-transparent to-transparent"></div>

    <div class="container-fluid flex-grow-1 d-flex flex-column p-0 position-relative z-10">
        <!-- Encabezado -->
        <header id="app-header" class="navbar navbar-expand-lg navbar-light bg-white/90 backdrop-blur-sm sticky-top border-bottom shadow-sm mb-3">
            <div class="container d-flex align-items-center justify-content-between py-2">
                <a class="navbar-brand d-flex align-items-center gap-2" href="#">
                    <img id="header-logo" src="https://static.wixstatic.com/media/769a0c_8d5b9317c0a84f4f856798df627db1e2~mv2.jpg/v1/fill/w_104,h_96,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/LOGO%20NEGRO%20DEF_edited.jpg" alt="Logo de Pietra Fina" class="h-8 rounded-xl">
                    <span class="font-fraunces font-bold text-lg">CRM Pietra Fina</span>
                </a>
                <div id="auth-status" class="text-xs font-poppins text-slate-600 flex-shrink-0">
                    <!-- El estado de autenticación del usuario se mostrará aquí -->
                </div>
            </div>
        </header>

        <main class="flex-grow-1 d-flex align-items-center justify-content-center p-2 p-md-4">
            <div class="container">
                <!-- Pantalla de inicio de sesión / Selección de rol -->
                <section id="login-screen" class="row justify-content-center">
                    <div class="col-12 col-md-8 col-lg-6">
                        <div class="card shadow-lg my-5 animate-fadeIn">
                            <div class="card-body p-4 p-md-5 text-center">
                                <h2 class="card-title text-3xl font-fraunces font-bold mb-4">Acceso</h2>
                                <p class="font-poppins text-slate-600 font-semibold mb-4">Inicia sesión o selecciona tu rol:</p>
                                <!-- Formulario de inicio de sesión -->
                                <form id="login-form" class="mb-4">
                                    <div class="mb-3 text-start">
                                        <label for="login-email" class="form-label">Correo Electrónico</label>
                                        <input type="email" id="login-email" placeholder="Correo Electrónico" required class="form-control">
                                    </div>
                                    <div class="mb-3 text-start">
                                        <label for="login-password" class="form-label">Contraseña</label>
                                        <input type="password" id="login-password" placeholder="Contraseña" required class="form-control">
                                    </div>
                                    <button type="submit" id="login-button" class="btn btn-danger w-100 py-2 text-white font-poppins">
                                        <i data-lucide="log-in" class="w-4 h-4 mr-2"></i> Iniciar Sesión
                                    </button>
                                </form>
                                <p id="login-error-message" class="text-danger text-sm mt-2 hidden font-poppins">Mensaje de error.</p>
                                <!-- Botones de selección de rol -->
                                <div id="role-selection-buttons" class="d-flex flex-column gap-3 justify-content-center align-items-center hidden" style="min-height:200px;">
                                    <button id="admin-button" class="btn btn-danger w-100 d-flex align-items-center justify-content-center gap-2 font-poppins">
                                        <i data-lucide="database"></i> Gestión de Base de Datos
                                    </button>
                                    <button id="prospector-button" class="btn btn-dark w-100 d-flex align-items-center justify-content-center gap-2 font-poppins">
                                        <i data-lucide="headphones"></i> Prospección de Clientes
                                    </button>
                                    <button id="archive-button" class="btn btn-success w-100 d-flex align-items-center justify-content-center gap-2 font-poppins">
                                        <i data-lucide="archive"></i> Archivo de Prospección
                                    </button>
                                    <button id="whatsapp-massive-button" class="btn btn-success w-100 d-flex align-items-center justify-content-center gap-2 font-poppins">
                                        <i data-lucide="message-circle"></i> Enviar Material por WhatsApp
                                    </button>
                                    <button id="logout-button" class="btn btn-outline-dark w-100 d-flex align-items-center justify-content-center gap-2 font-poppins">
                                        <i data-lucide="log-out"></i> Cerrar Sesión
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Aquí seguiría la estructura de las demás secciones (admin, prospector, archive) usando el grid de Bootstrap y utilidades de Tailwind para detalles visuales. -->
            </div>
        </main>

        <footer class="bg-white border-top text-center py-3 mt-auto">
            <span class="text-xs text-gray-500 font-poppins tracking-wide">POWERED BY MVGN LABS 2025</span>
        </footer>
    </div>
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./matrix-bg.js"></script>
    <script type="module" src="./script.js"></script>
</body>
</html>
